<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BodyKinematics.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">com.irurueta:irurueta-navigation</a> &gt; <a href="index.source.html" class="el_package">com.irurueta.navigation.inertial</a> &gt; <span class="el_source">BodyKinematics.java</span></div><h1>BodyKinematics.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2019 Alberto Irurueta Carro (alberto@irurueta.com)
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.irurueta.navigation.inertial;

import com.irurueta.algebra.Matrix;
import com.irurueta.algebra.WrongSizeException;
import com.irurueta.navigation.inertial.calibration.AccelerationTriad;
import com.irurueta.navigation.inertial.calibration.AngularSpeedTriad;
import com.irurueta.units.Acceleration;
import com.irurueta.units.AccelerationConverter;
import com.irurueta.units.AccelerationUnit;
import com.irurueta.units.AngularSpeed;
import com.irurueta.units.AngularSpeedConverter;
import com.irurueta.units.AngularSpeedUnit;

import java.io.Serializable;
import java.util.Objects;

/**
 * Describes the motion of a body based on the specific forces (i.e. specific acceleration) and
 * angular rates applied to it.
 * Body frame axes are typically defined so that x is the forward axis, pointing in the usual direction
 * of travel, z is the down axis, pointing in the usual direction of gravity, and y is the right axis,
 * completing the orthogonal set.
 */
@SuppressWarnings({&quot;WeakerAccess&quot;, &quot;DuplicatedCode&quot;})
public class BodyKinematics implements Serializable, Cloneable {
    /**
     * Number of components of specific force or angular rate.
     */
    public static final int COMPONENTS = 3;

    /**
     * Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     */
    private double mFx;

    /**
     * Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     */
    private double mFy;

    /**
     * Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     */
    private double mFz;

    /**
     * Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame x-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     */
    private double mAngularRateX;

    /**
     * Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     */
    private double mAngularRateY;

    /**
     * Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame z-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     */
    private double mAngularRateZ;

    /**
     * Constructor.
     */
<span class="fc" id="L85">    public BodyKinematics() {</span>
<span class="fc" id="L86">    }</span>

    /**
     * Constructor.
     *
     * @param fx Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis,
     *           averaged over time interval and expressed in meters per squared second (m/s^2).
     * @param fy Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis,
     *           averaged over time interval and expressed in meters per squared second (m/s^2).
     * @param fz Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis,
     *           averaged over time interval and expressed in meters per squared second (m/s^2).
     */
<span class="fc" id="L98">    public BodyKinematics(final double fx, final double fy, final double fz) {</span>
<span class="fc" id="L99">        setSpecificForceCoordinates(fx, fy, fz);</span>
<span class="fc" id="L100">    }</span>

    /**
     * Constructor.
     *
     * @param fx           Specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *                     body-frame x-axis, averaged over time interval and expressed in meters per
     *                     squared second (m/s^2).
     * @param fy           Specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *                     body-frame y-axis, averaged over time interval and expressed in meters per
     *                     squared second (m/s^2).
     * @param fz           Specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *                     body-frame z-axis, averaged over time interval and expressed in meters per
     *                     squared second (m/s^2).
     * @param angularRateX Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about
     *                     body-frame x-axis, averaged over time interval and expressed in radians per
     *                     second (rad/s).
     * @param angularRateY Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about
     *                     body-frame y-axis, averaged over time interval and expressed in radians per
     *                     second (rad/s).
     * @param angularRateZ Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about
     *                     body-frame z-axis, averaged over time interval and expressed in radians per
     *                     second (rad/s).
     */
    public BodyKinematics(final double fx, final double fy, final double fz,
                          final double angularRateX, final double angularRateY,
<span class="fc" id="L126">                          final double angularRateZ) {</span>
<span class="fc" id="L127">        setSpecificForceCoordinates(fx, fy, fz);</span>
<span class="fc" id="L128">        setAngularRateCoordinates(angularRateX, angularRateY, angularRateZ);</span>
<span class="fc" id="L129">    }</span>

    /**
     * Constructor.
     *
     * @param specificForceX Specific force of body frame with respect ECI, ECEF or NED frame resolved
     *                       along body-frame x-axis, averaged over time interval.
     * @param specificForceY Specific force of body frame with respect ECI, ECEF or NED frame resolved
     *                       along body-frame y-axis, averaged over time interval.
     * @param specificForceZ Specific force of body frame with respect ECI, ECEF or NED frame resolved
     *                       along body-frame z-axis, averaged over time interval.
     */
    public BodyKinematics(final Acceleration specificForceX,
                          final Acceleration specificForceY,
<span class="fc" id="L143">                          final Acceleration specificForceZ) {</span>
<span class="fc" id="L144">        setSpecificForceCoordinates(specificForceX, specificForceY, specificForceZ);</span>
<span class="fc" id="L145">    }</span>

    /**
     * Constructor.
     *
     * @param angularSpeedX Angular speed of body frame with respect ECI, ECEF or NED frame, resolved
     *                      about body-frame x-axis, averaged over time interval.
     * @param angularSpeedY Angular speed of body frame with respect ECI, ECEF or NED frame, resolved
     *                      about body-frame y-axis, averaged over time interval.
     * @param angularSpeedZ Angular speed of body frame with respect ECI, ECEF or NED frame, resolved
     *                      about body-frame z-axis, averaged over time interval.
     */
    public BodyKinematics(final AngularSpeed angularSpeedX,
                          final AngularSpeed angularSpeedY,
<span class="fc" id="L159">                          final AngularSpeed angularSpeedZ) {</span>
<span class="fc" id="L160">        setAngularSpeedCoordinates(angularSpeedX, angularSpeedY, angularSpeedZ);</span>
<span class="fc" id="L161">    }</span>

    /**
     * Constructor.
     *
     * @param specificForceX Specific force of body frame with respect ECI, ECEF or NED frame resolved
     *                       along body-frame x-axis, averaged over time interval.
     * @param specificForceY Specific force of body frame with respect ECI, ECEF or NED frame resolved
     *                       along body-frame y-axis, averaged over time interval.
     * @param specificForceZ Specific force of body frame with respect ECI, ECEF or NED frame resolved
     *                       along body-frame z-axis, averaged over time interval.
     * @param angularSpeedX  Angular speed of body frame with respect ECI, ECEF or NED frame, resolved
     *                       about body-frame x-axis, averaged over time interval.
     * @param angularSpeedY  Angular speed of body frame with respect ECI, ECEF or NED frame, resolved
     *                       about body-frame y-axis, averaged over time interval.
     * @param angularSpeedZ  Angular speed of body frame with respect ECI, ECEF or NED frame, resolved
     *                       about body-frame z-axis, averaged over time interval.
     */
    public BodyKinematics(final Acceleration specificForceX,
                          final Acceleration specificForceY,
                          final Acceleration specificForceZ,
                          final AngularSpeed angularSpeedX,
                          final AngularSpeed angularSpeedY,
<span class="fc" id="L184">                          final AngularSpeed angularSpeedZ) {</span>
<span class="fc" id="L185">        setSpecificForceCoordinates(specificForceX, specificForceY, specificForceZ);</span>
<span class="fc" id="L186">        setAngularSpeedCoordinates(angularSpeedX, angularSpeedY, angularSpeedZ);</span>
<span class="fc" id="L187">    }</span>

    /**
     * Constructor.
     *
     * @param specificForceTriad specific force triad.
     * @param angularSpeedTriad  angular speed triad.
     */
    public BodyKinematics(final AccelerationTriad specificForceTriad,
<span class="fc" id="L196">                          final AngularSpeedTriad angularSpeedTriad) {</span>
<span class="fc" id="L197">        setSpecificForceTriad(specificForceTriad);</span>
<span class="fc" id="L198">        setAngularRateTriad(angularSpeedTriad);</span>
<span class="fc" id="L199">    }</span>

    /**
     * Constructor.
     *
     * @param input instance to copy data from.
     */
<span class="fc" id="L206">    public BodyKinematics(final BodyKinematics input) {</span>
<span class="fc" id="L207">        copyFrom(input);</span>
<span class="fc" id="L208">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     *
     * @return specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis.
     */
    public double getFx() {
<span class="fc" id="L217">        return mFx;</span>
    }

    /**
     * Sets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     *
     * @param fx specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis.
     */
    public void setFx(final double fx) {
<span class="fc" id="L227">        mFx = fx;</span>
<span class="fc" id="L228">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     *
     * @return specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis.
     */
    public double getFy() {
<span class="fc" id="L237">        return mFy;</span>
    }

    /**
     * Sets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     *
     * @param fy specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis.
     */
    public void setFy(final double fy) {
<span class="fc" id="L247">        mFy = fy;</span>
<span class="fc" id="L248">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     *
     * @return specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis.
     */
    public double getFz() {
<span class="fc" id="L257">        return mFz;</span>
    }

    /**
     * Sets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis, averaged
     * over time interval and expressed in meters per squared second (m/s^2).
     *
     * @param fz specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis.
     */
    public void setFz(final double fz) {
<span class="fc" id="L267">        mFz = fz;</span>
<span class="fc" id="L268">    }</span>

    /**
     * Sets specific force coordinates of body frame with respect ECI, ECEF or NED frame resolved along body-frame
     * axes, averaged over time interval and expressed in meters per squared second (m/s^2).
     *
     * @param fx Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis,
     *           averaged over time interval and expressed in meters per squared second (m/s^2).
     * @param fy Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis,
     *           averaged over time interval and expressed in meters per squared second (m/s^2).
     * @param fz Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis,
     *           averaged over time interval and expressed in meters per squared second (m/s^2).
     */
    public void setSpecificForceCoordinates(final double fx, final double fy, final double fz) {
<span class="fc" id="L282">        mFx = fx;</span>
<span class="fc" id="L283">        mFy = fy;</span>
<span class="fc" id="L284">        mFz = fz;</span>
<span class="fc" id="L285">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis, averaged
     * over time interval.
     *
     * @param result instance where specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *               body-frame x-axis will be stored.
     */
    public void getSpecificForceX(final Acceleration result) {
<span class="fc" id="L295">        result.setValue(mFx);</span>
<span class="fc" id="L296">        result.setUnit(AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
<span class="fc" id="L297">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis, averaged
     * over time interval.
     *
     * @return a new instance with specific force of body frame with respect ECI, ECEF or NED frame resolved along
     * body-frame x-axis.
     */
    public Acceleration getSpecificForceX() {
<span class="fc" id="L307">        return new Acceleration(mFx, AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
    }

    /**
     * Sets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame x-axis, averaged
     * over time interval.
     *
     * @param specificForceX specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *                       body-frame x-axis that will be set.
     */
    public void setSpecificForceX(final Acceleration specificForceX) {
<span class="fc" id="L318">        mFx = AccelerationConverter.convert(specificForceX.getValue().doubleValue(),</span>
<span class="fc" id="L319">                specificForceX.getUnit(),</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L321">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis, averaged
     * over time interval.
     *
     * @param result instance where specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *               body-frame y-axis will be stored.
     */
    public void getSpecificForceY(final Acceleration result) {
<span class="fc" id="L331">        result.setValue(mFy);</span>
<span class="fc" id="L332">        result.setUnit(AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
<span class="fc" id="L333">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame y-axis, averaged
     * over time interval.
     *
     * @return a new instance with specific force of body frame with respect ECI, ECEF or NED frame resolved along
     * body-frame y-axis.
     */
    public Acceleration getSpecificForceY() {
<span class="fc" id="L343">        return new Acceleration(mFy, AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
    }

    /**
     * Sets specific force of body frame with respect ECI, ECEF or NED frame resolved along body frame y-axis, averaged
     * over time interval.
     *
     * @param specificForceY specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *                       body-frame y-axis that will be set.
     */
    public void setSpecificForceY(final Acceleration specificForceY) {
<span class="fc" id="L354">        mFy = AccelerationConverter.convert(specificForceY.getValue().doubleValue(),</span>
<span class="fc" id="L355">                specificForceY.getUnit(),</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L357">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis, averaged
     * over time interval.
     *
     * @param result instance where specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *               body-frame z-axis will be stored.
     */
    public void getSpecificForceZ(final Acceleration result) {
<span class="fc" id="L367">        result.setValue(mFz);</span>
<span class="fc" id="L368">        result.setUnit(AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
<span class="fc" id="L369">    }</span>

    /**
     * Gets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis, averaged
     * over time interval.
     *
     * @return a new instance with specific force of body frame with respect ECI, ECEF or NED frame resolved along
     * body-frame z-axis.
     */
    public Acceleration getSpecificForceZ() {
<span class="fc" id="L379">        return new Acceleration(mFz, AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
    }

    /**
     * Sets specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame z-axis, averaged
     * over time interval.
     *
     * @param specificForceZ specific force of body frame with respect ECI, ECEF or NED frame resolved along
     *                       body-frame z-axis that will be set.
     */
    public void setSpecificForceZ(final Acceleration specificForceZ) {
<span class="fc" id="L390">        mFz = AccelerationConverter.convert(specificForceZ.getValue().doubleValue(),</span>
<span class="fc" id="L391">                specificForceZ.getUnit(),</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L393">    }</span>

    /**
     * Sets specific force coordinates of body frame with respect ECI, ECEF or NED frame resolved along body-frame axes,
     * averaged over time interval.
     *
     * @param specificForceX Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame
     *                       x-axis, averaged over time interval.
     * @param specificForceY Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame
     *                       y-axis, averaged over time interval.
     * @param specificForceZ Specific force of body frame with respect ECI, ECEF or NED frame resolved along body-frame
     *                       z-axis, averaged over time interval.
     */
    public void setSpecificForceCoordinates(final Acceleration specificForceX,
                                            final Acceleration specificForceY,
                                            final Acceleration specificForceZ) {
<span class="fc" id="L409">        setSpecificForceX(specificForceX);</span>
<span class="fc" id="L410">        setSpecificForceY(specificForceY);</span>
<span class="fc" id="L411">        setSpecificForceZ(specificForceZ);</span>
<span class="fc" id="L412">    }</span>

    /**
     * Gets specific force triad of accelerometer measurements.
     *
     * @return specific force triad.
     */
    public AccelerationTriad getSpecificForceTriad() {
<span class="fc" id="L420">        return new AccelerationTriad(AccelerationUnit.METERS_PER_SQUARED_SECOND,</span>
                mFx, mFy, mFz);
    }

    /**
     * Gets specific force triad of accelerometer measurements.
     *
     * @param result instance where result will be stored.
     */
    public void getSpecificForceTriad(final AccelerationTriad result) {
<span class="fc" id="L430">        result.setValueCoordinatesAndUnit(mFx, mFy, mFz,</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L432">    }</span>

    /**
     * Sets specific force triad of accelerometer measurements.
     *
     * @param triad specific force triad.
     */
    public void setSpecificForceTriad(final AccelerationTriad triad) {
<span class="fc" id="L440">        final AccelerationUnit unit = triad.getUnit();</span>
<span class="fc" id="L441">        mFx = AccelerationConverter.convert(triad.getValueX(), unit,</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L443">        mFy = AccelerationConverter.convert(triad.getValueY(), unit,</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L445">        mFz = AccelerationConverter.convert(triad.getValueZ(), unit,</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
<span class="fc" id="L447">    }</span>

    /**
     * Gets angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame x-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     *
     * @return angular rate of body frame with respect ECI, ECEF or NED frame resolved about body-frame x-axis.
     */
    public double getAngularRateX() {
<span class="fc" id="L456">        return mAngularRateX;</span>
    }

    /**
     * Sets angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame x-axis,
     * over time interval and expressed in radians per second (rad/s).
     *
     * @param angularRateX angular rate of body frame with respect ECI, ECEF or NED frame resolved
     *                     about body-frame x-axis.
     */
    public void setAngularRateX(final double angularRateX) {
<span class="fc" id="L467">        mAngularRateX = angularRateX;</span>
<span class="fc" id="L468">    }</span>

    /**
     * Gets angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     *
     * @return angular rate of body frame with respect ECI, ECEF or NED frame resolved about body-frame y-axis.
     */
    public double getAngularRateY() {
<span class="fc" id="L477">        return mAngularRateY;</span>
    }

    /**
     * Sets angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     *
     * @param angularRateY angular rate of body frame with respect ECI, ECEF or NED frame resolved
     *                     about body-frame y-axis.
     */
    public void setAngularRateY(final double angularRateY) {
<span class="fc" id="L488">        mAngularRateY = angularRateY;</span>
<span class="fc" id="L489">    }</span>

    /**
     * Gets angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame z-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     *
     * @return angular rate of body frame with respect ECI, ECEF or NED frame resolved about body-frame z-axis.
     */
    public double getAngularRateZ() {
<span class="fc" id="L498">        return mAngularRateZ;</span>
    }

    /**
     * Sets angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame z-axis, averaged
     * over time interval and expressed in radians per second (rad/s).
     *
     * @param angularRateZ angular rate of body frame with respect ECI, ECEF or NED frame resolved
     *                     about body-frame z-axis.
     */
    public void setAngularRateZ(final double angularRateZ) {
<span class="fc" id="L509">        mAngularRateZ = angularRateZ;</span>
<span class="fc" id="L510">    }</span>

    /**
     * Sets angular rate coordinates of body frame with respect ECI, ECEF or NED frame, resolved about body-frame axes,
     * averaged over time interval and expressed in radians per second (rad/s).
     *
     * @param angularRateX Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame
     *                     x-axis, averaged over time interval and expressed in radians per second (rad/s).
     * @param angularRateY Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame
     *                     y-axis, averaged over time interval and expressed in radians per second (rad/s).
     * @param angularRateZ Angular rate of body frame with respect ECI, ECEF or NED frame, resolved about body-frame
     *                     z-axis, averaged over time interval and expressed in radians per second (rad/s).
     */
    public void setAngularRateCoordinates(final double angularRateX,
                                          final double angularRateY, final double angularRateZ) {
<span class="fc" id="L525">        mAngularRateX = angularRateX;</span>
<span class="fc" id="L526">        mAngularRateY = angularRateY;</span>
<span class="fc" id="L527">        mAngularRateZ = angularRateZ;</span>
<span class="fc" id="L528">    }</span>

    /**
     * Gets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame x-axis, averaged
     * over time interval.
     *
     * @param result instance where angular speed of body frame with respect ECI, ECEF or NED frame resolved about
     *               body-frame x-axis will be stored.
     */
    public void getAngularSpeedX(final AngularSpeed result) {
<span class="fc" id="L538">        result.setValue(mAngularRateX);</span>
<span class="fc" id="L539">        result.setUnit(AngularSpeedUnit.RADIANS_PER_SECOND);</span>
<span class="fc" id="L540">    }</span>

    /**
     * Gets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame x-axis, averaged
     * over time interval.
     *
     * @return a new instance of angular speed of body frame with respect ECI, ECEF or NED frame resolved about
     * body-frame X-axis.
     */
    public AngularSpeed getAngularSpeedX() {
<span class="fc" id="L550">        return new AngularSpeed(mAngularRateX, AngularSpeedUnit.RADIANS_PER_SECOND);</span>
    }

    /**
     * Sets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame x-axis, averaged
     * over time interval.
     *
     * @param angularSpeedX angular speed of body frame with respect ECI, ECEF or NED frame resolved about body-frame
     *                      x-axis that will be set.
     */
    public void setAngularSpeedX(final AngularSpeed angularSpeedX) {
<span class="fc" id="L561">        mAngularRateX = AngularSpeedConverter.convert(angularSpeedX.getValue().doubleValue(),</span>
<span class="fc" id="L562">                angularSpeedX.getUnit(),</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L564">    }</span>

    /**
     * Gets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval.
     *
     * @param result instance where angular speed of body frame with respect ECI, ECEF or NED frame resolved about
     *               body-frame y-axis will be stored.
     */
    public void getAngularSpeedY(final AngularSpeed result) {
<span class="fc" id="L574">        result.setValue(mAngularRateY);</span>
<span class="fc" id="L575">        result.setUnit(AngularSpeedUnit.RADIANS_PER_SECOND);</span>
<span class="fc" id="L576">    }</span>

    /**
     * Gets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval.
     *
     * @return a new instance of angular speed of body frame with respect ECI, ECEF or NED frame resolved about
     * body-frame y-axis.
     */
    public AngularSpeed getAngularSpeedY() {
<span class="fc" id="L586">        return new AngularSpeed(mAngularRateY, AngularSpeedUnit.RADIANS_PER_SECOND);</span>
    }

    /**
     * Sets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval.
     *
     * @param angularSpeedY angular speed of body frame with respect ECI, ECEF or NED frame resolved about body-frame
     *                      y-axis that will be set.
     */
    public void setAngularSpeedY(final AngularSpeed angularSpeedY) {
<span class="fc" id="L597">        mAngularRateY = AngularSpeedConverter.convert(angularSpeedY.getValue().doubleValue(),</span>
<span class="fc" id="L598">                angularSpeedY.getUnit(),</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L600">    }</span>

    /**
     * Gets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame z-axis, averaged
     * over time interval.
     *
     * @param result instance where angular speed of body frame with respect ECI, ECEF or NED frame resolved about
     *               body-frame z-axis will be stored.
     */
    public void getAngularSpeedZ(final AngularSpeed result) {
<span class="fc" id="L610">        result.setValue(mAngularRateZ);</span>
<span class="fc" id="L611">        result.setUnit(AngularSpeedUnit.RADIANS_PER_SECOND);</span>
<span class="fc" id="L612">    }</span>

    /**
     * Gets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame z-axis, averaged
     * over time interval.
     *
     * @return a new instance of angular speed of body frame with respect ECI, ECEF or NED frame resolved about
     * body-frame z-axis.
     */
    public AngularSpeed getAngularSpeedZ() {
<span class="fc" id="L622">        return new AngularSpeed(mAngularRateZ, AngularSpeedUnit.RADIANS_PER_SECOND);</span>
    }

    /**
     * Sets angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame y-axis, averaged
     * over time interval.
     *
     * @param angularSpeedZ angular speed of body frame with respect ECI, ECEF or NED frame resolved about body-frame
     *                      z-axis, that will be set.
     */
    public void setAngularSpeedZ(final AngularSpeed angularSpeedZ) {
<span class="fc" id="L633">        mAngularRateZ = AngularSpeedConverter.convert(angularSpeedZ.getValue().doubleValue(),</span>
<span class="fc" id="L634">                angularSpeedZ.getUnit(),</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L636">    }</span>

    /**
     * Sets angular speed coordinates of body frame with respect ECI, ECEF or NED frame, resolved about body-frame axes,
     * averaged over time interval.
     *
     * @param angularSpeedX Angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame
     *                      x-axis, averaged over time interval.
     * @param angularSpeedY Angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame
     *                      y-axis, averaged over time interval.
     * @param angularSpeedZ Angular speed of body frame with respect ECI, ECEF or NED frame, resolved about body-frame
     *                      z-axis, averaged over time interval.
     */
    public void setAngularSpeedCoordinates(final AngularSpeed angularSpeedX,
                                           final AngularSpeed angularSpeedY,
                                           final AngularSpeed angularSpeedZ) {
<span class="fc" id="L652">        setAngularSpeedX(angularSpeedX);</span>
<span class="fc" id="L653">        setAngularSpeedY(angularSpeedY);</span>
<span class="fc" id="L654">        setAngularSpeedZ(angularSpeedZ);</span>
<span class="fc" id="L655">    }</span>

    /**
     * Gets angular rate triad of gyroscope measurements.
     *
     * @return angular rate triad.
     */
    public AngularSpeedTriad getAngularRateTriad() {
<span class="fc" id="L663">        return new AngularSpeedTriad(AngularSpeedUnit.RADIANS_PER_SECOND,</span>
                mAngularRateX, mAngularRateY, mAngularRateZ);
    }

    /**
     * Gets angular rate triad of gyroscope measurements.
     *
     * @param result angular rate triad.
     */
    public void getAngularRateTriad(final AngularSpeedTriad result) {
<span class="fc" id="L673">        result.setValueCoordinatesAndUnit(mAngularRateX, mAngularRateY, mAngularRateZ,</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L675">    }</span>

    /**
     * Sets angular rate triad of gyroscope measurements.
     *
     * @param triad angular rate triad.
     */
    public void setAngularRateTriad(final AngularSpeedTriad triad) {
<span class="fc" id="L683">        final AngularSpeedUnit unit = triad.getUnit();</span>
<span class="fc" id="L684">        mAngularRateX = AngularSpeedConverter.convert(triad.getValueX(), unit,</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L686">        mAngularRateY = AngularSpeedConverter.convert(triad.getValueY(), unit,</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L688">        mAngularRateZ = AngularSpeedConverter.convert(triad.getValueZ(), unit,</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
<span class="fc" id="L690">    }</span>

    /**
     * Gets norm of specific force expressed in meters per squared second (m/s^2).
     *
     * @return norm of specific force.
     */
    public double getSpecificForceNorm() {
<span class="fc" id="L698">        return Math.sqrt(mFx * mFx + mFy * mFy + mFz * mFz);</span>
    }

    /**
     * Gets norm of specific force.
     *
     * @param result instance where result will be stored.
     */
    public void getSpecificForceNormAsAcceleration(final Acceleration result) {
<span class="fc" id="L707">        result.setValue(getSpecificForceNorm());</span>
<span class="fc" id="L708">        result.setUnit(AccelerationUnit.METERS_PER_SQUARED_SECOND);</span>
<span class="fc" id="L709">    }</span>

    /**
     * Gets norm of specific force.
     *
     * @return a new acceleration instance containing norm of specific force.
     */
    public Acceleration getSpecificForceNormAsAcceleration() {
<span class="fc" id="L717">        return new Acceleration(getSpecificForceNorm(),</span>
                AccelerationUnit.METERS_PER_SQUARED_SECOND);
    }

    /**
     * Gets norm of angular rate expressed in radians per second (rad/s).
     *
     * @return norm of angular rate.
     */
    public double getAngularRateNorm() {
<span class="fc" id="L727">        return Math.sqrt(mAngularRateX * mAngularRateX</span>
                + mAngularRateY * mAngularRateY + mAngularRateZ * mAngularRateZ);
    }

    /**
     * Gets norm of angular rate.
     *
     * @param result instance where norm of angular rate will be stored.
     */
    public void getAngularSpeedNorm(final AngularSpeed result) {
<span class="fc" id="L737">        result.setValue(getAngularRateNorm());</span>
<span class="fc" id="L738">        result.setUnit(AngularSpeedUnit.RADIANS_PER_SECOND);</span>
<span class="fc" id="L739">    }</span>

    /**
     * Gets norm of angular rate.
     *
     * @return norm of angular rate.
     */
    public AngularSpeed getAngularSpeedNorm() {
<span class="fc" id="L747">        return new AngularSpeed(getAngularRateNorm(),</span>
                AngularSpeedUnit.RADIANS_PER_SECOND);
    }

    /**
     * Copies this instance data into provided instance.
     *
     * @param output destination instance where data will be copied to.
     */
    public void copyTo(final BodyKinematics output) {
<span class="fc" id="L757">        output.mFx = mFx;</span>
<span class="fc" id="L758">        output.mFy = mFy;</span>
<span class="fc" id="L759">        output.mFz = mFz;</span>
<span class="fc" id="L760">        output.mAngularRateX = mAngularRateX;</span>
<span class="fc" id="L761">        output.mAngularRateY = mAngularRateY;</span>
<span class="fc" id="L762">        output.mAngularRateZ = mAngularRateZ;</span>
<span class="fc" id="L763">    }</span>

    /**
     * Copies data of provided instance into this instance.
     *
     * @param input instance to copy data from.
     */
    public void copyFrom(final BodyKinematics input) {
<span class="fc" id="L771">        mFx = input.mFx;</span>
<span class="fc" id="L772">        mFy = input.mFy;</span>
<span class="fc" id="L773">        mFz = input.mFz;</span>
<span class="fc" id="L774">        mAngularRateX = input.mAngularRateX;</span>
<span class="fc" id="L775">        mAngularRateY = input.mAngularRateY;</span>
<span class="fc" id="L776">        mAngularRateZ = input.mAngularRateZ;</span>
<span class="fc" id="L777">    }</span>

    /**
     * Gets specific force coordinates expressed in meters per squared second (m/s^2) as an array.
     *
     * @param result array instance where specific force coordinates will be stored in
     *               x, y, z order.
     * @throws IllegalArgumentException if provided array does not have length 3.
     */
    public void asSpecificForceArray(final double[] result) {
<span class="fc bfc" id="L787" title="All 2 branches covered.">        if (result.length != COMPONENTS) {</span>
<span class="fc" id="L788">            throw new IllegalArgumentException();</span>
        }

<span class="fc" id="L791">        result[0] = mFx;</span>
<span class="fc" id="L792">        result[1] = mFy;</span>
<span class="fc" id="L793">        result[2] = mFz;</span>
<span class="fc" id="L794">    }</span>

    /**
     * Gets specific force coordinates expressed in meters per squared second (m/s^2) as an array.
     *
     * @return array containing specific force coordinates in x,y,z order.
     */
    public double[] asSpecificForceArray() {
<span class="fc" id="L802">        final double[] result = new double[COMPONENTS];</span>
<span class="fc" id="L803">        asSpecificForceArray(result);</span>
<span class="fc" id="L804">        return result;</span>
    }

    /**
     * Gets specific force coordinates expressed in meters per squared second (m/s^2) as a column matrix.
     * If provided matrix does not have size 3x1, it will be resized.
     *
     * @param result matrix instance where gravity coordinates will be stored in
     *               x,y,z order.
     */
    public void asSpecificForceMatrix(final Matrix result) {
<span class="pc bpc" id="L815" title="1 of 4 branches missed.">        if (result.getRows() != COMPONENTS || result.getColumns() != 1) {</span>
            try {
<span class="fc" id="L817">                result.resize(COMPONENTS, 1);</span>
<span class="nc" id="L818">            } catch (final WrongSizeException ignore) {</span>
                // never happens
<span class="fc" id="L820">            }</span>
        }

<span class="fc" id="L823">        result.setElementAtIndex(0, mFx);</span>
<span class="fc" id="L824">        result.setElementAtIndex(1, mFy);</span>
<span class="fc" id="L825">        result.setElementAtIndex(2, mFz);</span>
<span class="fc" id="L826">    }</span>

    /**
     * Gets specific force coordinates expressed in meters per squared second (m/s^2) as a column matrix.
     *
     * @return a matrix containing specific force coordinates stored in x,y,z order.
     */
    public Matrix asSpecificForceMatrix() {
        Matrix result;
        try {
<span class="fc" id="L836">            result = new Matrix(COMPONENTS, 1);</span>
<span class="fc" id="L837">            asSpecificForceMatrix(result);</span>
<span class="nc" id="L838">        } catch (final WrongSizeException ignore) {</span>
            // never happens
<span class="nc" id="L840">            result = null;</span>
<span class="fc" id="L841">        }</span>
<span class="fc" id="L842">        return result;</span>
    }

    /**
     * Gets angular rate coordinates expressed in radians per second (rad/s) as an array.
     *
     * @param result array instance where angular rate coordinates will be stored in
     *               x,y,z order.
     * @throws IllegalArgumentException if provided array does not have length 3.
     */
    public void asAngularRateArray(final double[] result) {
<span class="fc bfc" id="L853" title="All 2 branches covered.">        if (result.length != COMPONENTS) {</span>
<span class="fc" id="L854">            throw new IllegalArgumentException();</span>
        }

<span class="fc" id="L857">        result[0] = mAngularRateX;</span>
<span class="fc" id="L858">        result[1] = mAngularRateY;</span>
<span class="fc" id="L859">        result[2] = mAngularRateZ;</span>
<span class="fc" id="L860">    }</span>

    /**
     * Gets angular rate coordinates expressed in radians per second (rad/s) as an array.
     *
     * @return array containing angular rate coordinates in x,y,z order.
     */
    public double[] asAngularRateArray() {
<span class="fc" id="L868">        final double[] result = new double[COMPONENTS];</span>
<span class="fc" id="L869">        asAngularRateArray(result);</span>
<span class="fc" id="L870">        return result;</span>
    }

    /**
     * Gets angular rate coordinates expressed in radians per second (rad/s) as a column matrix.
     * If provided matrix does not have size 3x1, it will be resized.
     *
     * @param result matrix instance where angular rate coordinates will be stored in
     *               x,y,z order.
     */
    public void asAngularRateMatrix(final Matrix result) {
<span class="pc bpc" id="L881" title="1 of 4 branches missed.">        if (result.getRows() != COMPONENTS || result.getColumns() != 1) {</span>
            try {
<span class="fc" id="L883">                result.resize(COMPONENTS, 1);</span>
<span class="nc" id="L884">            } catch (final WrongSizeException ignore) {</span>
                // never happens
<span class="fc" id="L886">            }</span>
        }

<span class="fc" id="L889">        result.setElementAtIndex(0, mAngularRateX);</span>
<span class="fc" id="L890">        result.setElementAtIndex(1, mAngularRateY);</span>
<span class="fc" id="L891">        result.setElementAtIndex(2, mAngularRateZ);</span>
<span class="fc" id="L892">    }</span>

    /**
     * Gets angular rate coordinates expressed in radians per second (rad/s) as a column matrix.
     *
     * @return a matrix containing angular rate coordinates stored in x,y,z order.
     */
    public Matrix asAngularRateMatrix() {
        Matrix result;
        try {
<span class="fc" id="L902">            result = new Matrix(COMPONENTS, 1);</span>
<span class="fc" id="L903">            asAngularRateMatrix(result);</span>
<span class="nc" id="L904">        } catch (final WrongSizeException ignore) {</span>
            // never happens
<span class="nc" id="L906">            result = null;</span>
<span class="fc" id="L907">        }</span>
<span class="fc" id="L908">        return result;</span>
    }

    /**
     * Computes and returns hash code for this instance. Hash codes are almost unique
     * values that are useful for fast classification and storage of objects in collections.
     *
     * @return Hash code.
     */
    @Override
    public int hashCode() {
<span class="fc" id="L919">        return Objects.hash(mFx, mFy, mFz, mAngularRateX, mAngularRateY, mAngularRateZ);</span>
    }

    /**
     * Checks if provided instance has exactly the same contents as this instance.
     *
     * @param other instance to be compared.
     * @return true if both instances are considered to be equal, false otherwise.
     */
    public boolean equals(final BodyKinematics other) {
<span class="fc" id="L929">        return equals(other, 0.0);</span>
    }

    /**
     * Checks if provided instance has contents similar to this instance up to provided
     * threshold value.
     *
     * @param other     instance to be compared.
     * @param threshold maximum allowed difference between specific force and angular
     *                  rate coordinates.
     * @return true if both instances are considered to be equal (up to provided
     * threshold), false otherwise.
     */
    public boolean equals(final BodyKinematics other, final double threshold) {
<span class="fc bfc" id="L943" title="All 2 branches covered.">        if (other == null) {</span>
<span class="fc" id="L944">            return false;</span>
        }

<span class="fc bfc" id="L947" title="All 2 branches covered.">        return Math.abs(mFx - other.mFx) &lt;= threshold</span>
<span class="pc bpc" id="L948" title="1 of 2 branches missed.">                &amp;&amp; Math.abs(mFy - other.mFy) &lt;= threshold</span>
<span class="pc bpc" id="L949" title="1 of 2 branches missed.">                &amp;&amp; Math.abs(mFz - other.mFz) &lt;= threshold</span>
<span class="pc bpc" id="L950" title="1 of 2 branches missed.">                &amp;&amp; Math.abs(mAngularRateX - other.mAngularRateX) &lt;= threshold</span>
<span class="pc bpc" id="L951" title="1 of 2 branches missed.">                &amp;&amp; Math.abs(mAngularRateY - other.mAngularRateY) &lt;= threshold</span>
<span class="pc bpc" id="L952" title="1 of 2 branches missed.">                &amp;&amp; Math.abs(mAngularRateZ - other.mAngularRateZ) &lt;= threshold;</span>
    }

    /**
     * Checks if provided object is a BodyKinematics instance having exactly the same contents
     * as this instance.
     *
     * @param obj object to be compared.
     * @return true if both objects are considered to be equal, false otherwise.
     */
    @Override
    public boolean equals(Object obj) {
<span class="fc bfc" id="L964" title="All 2 branches covered.">        if (this == obj) {</span>
<span class="fc" id="L965">            return true;</span>
        }
<span class="fc bfc" id="L967" title="All 4 branches covered.">        if (obj == null || getClass() != obj.getClass()) {</span>
<span class="fc" id="L968">            return false;</span>
        }

<span class="fc" id="L971">        final BodyKinematics other = (BodyKinematics) obj;</span>
<span class="fc" id="L972">        return equals(other);</span>
    }

    /**
     * Makes a copy of this instance.
     *
     * @return a copy of this instance.
     * @throws CloneNotSupportedException if clone fails for some reason.
     */
    @Override
    protected Object clone() throws CloneNotSupportedException {
<span class="fc" id="L983">        final BodyKinematics result = (BodyKinematics) super.clone();</span>
<span class="fc" id="L984">        copyTo(result);</span>
<span class="fc" id="L985">        return result;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>